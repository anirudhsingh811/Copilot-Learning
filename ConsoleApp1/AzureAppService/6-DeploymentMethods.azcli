# ============================================
# Azure App Service - Deployment Methods
# ============================================

$resourceGroup="myResourceGroup"
$webAppName="myuniquewebapp"

# ============================================
# 1. ZIP Deployment
# ============================================
az webapp deployment source config-zip `
  --name $webAppName `
  --resource-group $resourceGroup `
  --src "./publish.zip"

# ============================================
# 2. Local Git Deployment
# ============================================

# Enable local Git
az webapp deployment source config-local-git `
  --name $webAppName `
  --resource-group $resourceGroup

# Get Git URL
$gitUrl = az webapp deployment source show `
  --name $webAppName `
  --resource-group $resourceGroup `
  --query "repoUrl" `
  --output tsv

# Set deployment credentials
az webapp deployment user set `
  --user-name myDeployUser `
  --password "MyP@ssw0rd!"

# Then use Git commands:
# git remote add azure $gitUrl
# git push azure main

# ============================================
# 3. GitHub Actions Deployment
# ============================================

# Configure GitHub Actions
az webapp deployment github-actions add `
  --name $webAppName `
  --resource-group $resourceGroup `
  --repo "username/repository" `
  --branch main `
  --token "github-personal-access-token"

# ============================================
# 4. Azure DevOps / Azure Pipelines
# ============================================

# Get publish profile for Azure DevOps
az webapp deployment list-publishing-profiles `
  --name $webAppName `
  --resource-group $resourceGroup `
  --xml

# ============================================
# 5. FTP Deployment
# ============================================

# Get FTP credentials
az webapp deployment list-publishing-credentials `
  --name $webAppName `
  --resource-group $resourceGroup `
  --query "{ftpUrl:publishingUserName, username:publishingUserName, password:publishingPassword}"

# ============================================
# 6. Container Deployment
# ============================================

# Deploy from Azure Container Registry
az webapp create `
  --resource-group $resourceGroup `
  --plan myAppServicePlan `
  --name $webAppName `
  --deployment-container-image-name myregistry.azurecr.io/myapp:latest

# Enable Continuous Deployment
az webapp deployment container config `
  --name $webAppName `
  --resource-group $resourceGroup `
  --enable-cd true

# ============================================
# 7. Deployment from Cloud (OneDrive/Dropbox)
# ============================================

az webapp deployment source config `
  --name $webAppName `
  --resource-group $resourceGroup `
  --repo-url "https://onedrive.live.com/..." `
  --branch main `
  --manual-integration
